## 《for循环的基本用法》课堂笔记

【课程重点：强调循环语句执行的流程、作用域、for循环的三个概念】

#### 1 计数器【减短，放到前面的课程中】

**示例问题：**

尼克每天背诵完一首古诗后，模仿古人在一根木棒上刻一条痕。试编一程序，算一算若连续刻了5天，一共有多少道痕?

```C++
#include <iostream>
using namespace std;
int main(){
    int i;
    i = 0;
    i = i + 1;
    i = i + 1;
    i = i + 1;
    i = i + 1;
    i = i + 1;
    cout << i;
    return 0;
}
```

> 输出结果：<kbd>5</kbd>



##### 1.1 计数器的概念

语句`i = i + 1`的含义是先把变量i的原值加1，然后将其赋值给i。

```C++
i = 0;					// 0
i = i + 1;			// i = 0 + 1
i = i + 1;			// i = 1 + 1
i = i + 1;			// i = 2 + 1
i = i + 1;			// i = 3 + 1
i = i + 1;			// i = 4 + 1
```

所以当程序运行到语句`cout << i;`时，就在屏幕上输出`i`的值，其运行结果为`5`。



**语句`i = i + 1`，每运行一次，i的值就增加1。这样变量i可以起到统计次数的作用，有计数的功能。**

> 通常我们把拥有计数功能的变量称为**计数器**。如变量`i`就是一个计数器。



##### 1.2 自增自减运算符

**自增运算符**

赋值语句`i = i + 1;`也可以写成`i++;`，`++`被称为**自增运算符**或**自加运算符**。

自增有以下两种方法：

1. 变量名 ++；
2. ++ 变量名；

这两种写法都可以使变量的值加一，但它们有一些区别。

> - 在单独使用自增时，`i++`与`++i`两种用法的结果是一样的。
>
> - 在赋值语句中使用时，结果会有不同：
>
>   <img src="/Users/wyrm/Library/Application Support/typora-user-images/image-20220608105008086.png" alt="image-20220608105008086" style="zoom:50%;" />
>
>   - `x = a++`：表示先进行x=a的赋值操作，再运算a++
>   - `y = ++b`：表示先运算++b，再进行y=b的赋值操作
>
>   **自增运算符的结合方向为“自左向右”。（先左后右）**

**自减运算符**

赋值语句`i = i - 1;`也可以写成`i--;`或者`--i;`，`--`被称为**自增运算符**或**自加运算符**。

> 自减运算符的特性与自增运算符一致。



课外小知识：C++语言最初不叫C++，叫做“带类的C语言”。后来为了强调它是C的增强版，用了C语言中的自加运算符“++”，改称为C++。



#### 2 for循环结构

【环节重点：学生能够记住循环框架并按题目要求更改循环体；了解循环的流程图写法



##### 2.1 引入

示例：尼克和格莱尔玩 “老狼老狼几点钟” 的游戏。

老狼老狼几点钟？1点钟

老狼老狼几点钟？2点钟

老狼老狼几点钟？3点钟

老狼老狼几点钟？4点钟

……

老狼老狼几点钟？11点钟

老狼老狼几点钟？12点钟

试编一程序，输出上面的文字。

```C++
#include <iostream>
using namespace std;
int main(){
    cout << "老狼老狼几点钟？1点钟" << endl;
    cout << "老狼老狼几点钟？2点钟" << endl;
    cout << "老狼老狼几点钟？3点钟" << endl;
    cout << "老狼老狼几点钟？4点钟" << endl;
    cout << "老狼老狼几点钟？5点钟" << endl;
    cout << "老狼老狼几点钟？6点钟" << endl;
    cout << "老狼老狼几点钟？7点钟" << endl;
    cout << "老狼老狼几点钟？8点钟" << endl;
    cout << "老狼老狼几点钟？9点钟" << endl;
    cout << "老狼老狼几点钟？10点钟" << endl;
    cout << "老狼老狼几点钟？11点钟" << endl;
    cout << "老狼老狼几点钟？12点钟" << endl;
    return 0;
}
```

用循环结构可以简化这种重复操作。



##### 2.2 for循环结构的格式

结构：

```C++
for (循环变量赋初始值; 循环条件; 循环变量增值){
    语句1; 
    语句2;
    ...
}
```

实例：

```C++
for (int i = 1; i <= 12; i++){
    cout << "欢迎光临" << endl;
}
```

> 只有一个语句的时候，可以省略花括号
>
> ```C++
> for (循环变量赋初始值; 循环条件; 循环变量增值) 语句1; 
> ```
>
> ```C++
> for (循环变量赋初始值; 循环条件; 循环变量增值)
>     语句1; 
> ```



##### 2.3 for循环结构的程序流程图

循环变量的取值使循环条件成立时，都执行一次循环体：

```flow
st=>start: 开始
op1=>operation: 循环变量赋初值
cond=>condition: 循环条件
op2=>operation: 循环体
op3=>operation: 循环变量 = 循环变量 + 增值
e=>end: 结束
st(right)->op1->cond
cond(yes)(right)->op2->op3(left)->cond
cond(no)->e
```

> 1. 先执行循环变量赋初值语句
> 2. 再判断循环条件，若为no（值为0），则结束循环；若为yes（值为1），则执行循环体
> 3. 执行变量增加语句
> 4. 回到判断循环条件，继续循环



##### 2.4 课堂练习

练习1：重复输出1000行hello world

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 1; i <= 1000; i++)
        cout << "hello world" << endl;
}
```



练习2：输入重复的字符串，重复输出1000行该字符串

>  思路：
>
> 1. 需要输入，那么需要定义一个字符串变量来存放输入的数据
> 2. 进行输入
> 3. 重复1000次，每次输出这个变量并换行

```C++
#include <iostream>
using namespace std;
int main(){
    string s;
    cin >> s;
    for (int i = 1; i <= 1000; i++)
        cout << s << endl;
}
```



练习3：输入一个数字，重复输出20000行该数字对应的字符

> 思路：
>
> 1. 需要输入，那么需要定义一个数字变量来存放输入的数据
> 2. 进行输入
> 3. 重复20000次，每次输出这个变量强制转换为字符的结果，并换行

```C++
#include <iostream>
using namespace std;
int main(){
    int n;
    cin >> n;
    for (int i = 1; i <= 20000; i++)
        cout << (char)n << endl;
}
```



#### 3 循环变量

【环节重点：学生能够理解循环过程中循环变量的变化，并能初步运用循环变量输出规律变化的值；能简单改变循环条件；了解变量的起效范围；强调i++是在执行了一遍后才运行】

- 例题：输出1～10000的整数
- 练习：输出ASCII码在1～40000的所有字符】
- 练习：依次输出1～100的平方，用空格分隔

> 若变量在循环中定义，则只在循环范围内起效。建议在循环外定义。

##### 3.1 示例程序解法

通过之前的学习，我们知道可以使用for循环重复输出12次“老狼老狼几点钟？”

示例程序如下：

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 1; i <= 12; i++)
        cout << "老狼老狼几点钟？" << endl;
    return 0;
}
```

那么，后面不断变化的1点钟、2点钟、3点钟要如何输出呢？



可以使用循环变量`i`。

在循环`for (int i = 1; i <= 12; i++)`中，循环变量`i`的值将随着循环次数的增加而变化。

从1、2、3、4...一直增加到12。可以使用循环变量输出循环体中需要变化的值！



老狼老狼几点钟的问题解法为：

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 1; i <= 12; i++)
        cout << "老狼老狼几点钟？" << i << "点钟" << endl;
    return 0;
}
```



##### 3.2 课堂练习

练习1：输出1～10000的整数

> 思路：
>
> 1. 输出范围是1～10000，可得循环变量初值为1，循环变量的数据类型为int，循环条件为i<=10000，循环变量递增值为1
> 2. 要输出这个数字，输出循环变量i

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 1; i <= 10000; i++)
        cout << i << endl;
    return 0;
}
```



练习2：输出ASCII码在1～40000的所有字符

> 思路：
>
> 1. 输出范围是1～40000，可得循环变量初值为1，循环变量的数据类型为char，循环条件为i<=40000，循环变量递增值为1
> 2. 要输出这个字符，输出循环变量i

```C++
#include <iostream>
using namespace std;
int main(){
    for (char i = 1; i <= 40000; i++)
        cout << i << endl;
    return 0;
}
```



练习3：依次输出1～100的平方，用空格分隔

> 思路：
>
> 1. 输出范围是1～100，可得循环变量初值为1，循环变量的数据类型为int，循环条件为i<=100，循环变量递增值为1
> 2. 要输出这个数的平方：即输出循环变量i*i的值

```C++
#include <iostream>
using namespace std;
int main(){
    for (char i = 1; i <= 100; i++)
        cout << i * i << endl;
    return 0;
}
```



#### 4 初始值、循环条件、增减量

【目前循环条件皆为常数】

【环节重点：学生能够理解初始值、循环条件、增减量的变化对循环变量带来的影响，并应用到程序中】

练习1：略

练习2：输出7到77中7的倍数

> 思路：
>
> 1. 循环变量为整数，初值为7，循环条件为i<=7，循环增量为7
> 2. 输出循环变量

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 7; i <= 77; i+=7)
        cout << i << endl;
    return 0;
}
```



练习3：输出从20到2中2的倍数

> 思路：
>
> 1. 循环变量为整数，初值为20，循环条件为i<=2，循环减量为2

```C++
#include <iostream>
using namespace std;
int main(){
    for (int i = 20; i >= 2; i-=2)
        cout << i << endl;
    return 0;
}
```



- 作业1：输出10～20的数字
- 作业2：输出a～z的英文字母
- 作业3：输出1～20的奇数，换行，再输出2～20的偶数

- 作业4：倒序输出26个大写字母，换行，再输出26个正序小写字母



