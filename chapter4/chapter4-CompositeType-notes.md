# chapter4-CompositeType-notes

### 第四章 《复合类型》笔记



## 数组

***

#### 数组的定义

定义数组的通用格式：

```c++
typeName arrayName[arraySize];
```

> 数组是一种复合类型，它创建时所有值在编译时都必须是已知的。即：arraySize不能是**变量**。



`sizeof`运算符返回类型或数据对象的长度（单位为字节）。



#### 数组的初始化

只有在定义数组时才能使用初始化，此后就不能使用了，也不能将一个数组赋值给另一个数组：

```C++
int a[4] = {1, 2, 3, 4}; 	// okay
int b;		// okay
int c = a;	// okay

a[4] = {1, 2, 3, 4};		// not allowed
b = a;		// not allowed
```

> 1. 初始化数组时，提供的值可以少于数组的元素数目，编译器将把其他元素设置为0。
>
>    > `int a[10] = {0};`是一种方便将所有元素初始化为0的写法。
>
> 2. 若初始化数组时`[]`为空，则编译器将计算提供的元素个数。（不推荐使用，因为值有可能被遗漏）



C++11中，初始化数组可省略 (=)，也可以在大括号中不包含任何东西（这将所有元素设置为0）。



## 字符串

***

### C-风格字符串

#### 字符串的初始化

C-风格字符串具有一种特殊的性质：以空字符<kbd>null character</kbd>结尾，空字符被写作`'\0'`，其ASCII码为0，用来标记字符串的结尾。

```c++
char dog[8] = {'T', 'o', 'n', 'y'}; 		// not a string
char cat[8] = {'M', 'i', 'l', 'k', '\0'}; 	// a string
```

> C++中处理字符串的函数，都逐个处理字符串中的字符，直到发现`'\0'`为止。



另一种更便携的初始化方法：使用一个用引号括起的字符串，这种字符串被称为字符串常量<kbd>string constant</kbd>或字符串字面值<kbd>string literal</kbd>，如下所示：

```c++
char dog[8] = "Tony";	// the '\0' is understood
char cat = "Milk";		// let the compiler count
```

> C++对字符串长度没有限制。因此，让编译器<kbd>compiler</kbd>来计算字符元素数量更为安全。



#### 字符常量与字符串常量的区别

**注意：字符串常量（使用双引号）不能与字符常量（使用单引号）互换。**

**原因：**	

1. 字符常量（如 `'S'`）是字符编码的简写表示。在ASCII系统上，`'S'`只是`83`的另一种写法。
2. 字符串常量（如`"S"`）不是字符常量，它表示两个字符（字符`S`和`\0`）组成的字符串。且`"S"`实际上表示的是字符串所在的内存地址。



#### 拼接字符串

有时候，字符串很长，无法放到一行中。C++可以将两个用引号括起的字符串合并为一个。事实上，任何由空白（空格、制表符、换行符）分隔的字符串常量都将自动拼合成一个。

因此，以下输出语句都是等效的：

```c++
cout << "Today is a good day.\n";
cout << "Today ""is a good day.\n";
cout << "Today "
    	"is a good day.\n";
```

> 拼接时不会在连接的字符串之间添加空格，第一个字符串中的`'\0'`将被第二个字符串的第一个字符取代。



### string 类字符串



## `getline()` 和 `get()`读取字符串

## 混合输入字符串和数字

## 结构

## 共用体

## 枚举

## 指针

## `new ` 和 `delete`管理动态内存

## 动态数组

## 自动存储、静态存储和动态存储

## `vector` 和 `array`类简介

